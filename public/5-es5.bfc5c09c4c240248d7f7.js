function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,a){return e&&_defineProperties(t.prototype,e),a&&_defineProperties(t,a),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{Z10u:function(t,e,a){"use strict";a.r(e),a.d(e,"FarmerdashboardModule",(function(){return Gt}));var n,r,o,i=a("ofXK"),c=a("fXoL"),s=a("AhZb"),l=a("tyNb"),d=a("XhcP"),b=a("MutI"),u=function(){return["/products"]},m=function(){return["/orders"]},p=((n=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Ib({type:n,selectors:[["app-sidenav"]],inputs:{profile:"profile"},decls:21,vars:6,consts:[[1,"sidenav-container"],[1,"sidenav-logo"],[1,"sidenav-user"],["src","https://storage.googleapis.com/farmermarket/defaultprofile.png","alt","","srcset","",1,"sidenav-user-img"],[1,"sidenav-user-detail"],[1,"sidenav-user-detail-name"],[1,"sidenav-user-detail-role"],[1,"sidenav-menu-list"],["mat-list-item","","routerLink",".",1,"sidenav-menu-list-link"],["mat-list-item","",1,"sidenav-menu-list-link",3,"routerLink"]],template:function(t,e){1&t&&(c.Ub(0,"div",0),c.Ub(1,"div",1),c.Ub(2,"h1"),c.Bc(3,"Farmer Market"),c.Tb(),c.Tb(),c.Ub(4,"div",2),c.Ub(5,"div"),c.Pb(6,"img",3),c.Tb(),c.Ub(7,"div",4),c.Ub(8,"div",5),c.Bc(9),c.Tb(),c.Ub(10,"div",6),c.Bc(11,"farmer"),c.Tb(),c.Tb(),c.Tb(),c.Ub(12,"mat-nav-list",7),c.Ub(13,"a",8),c.Bc(14," New Orders "),c.Tb(),c.Ub(15,"a",9),c.Bc(16,"Products"),c.Tb(),c.Ub(17,"a",8),c.Bc(18,"Add Product"),c.Tb(),c.Ub(19,"a",9),c.Bc(20,"Orders"),c.Tb(),c.Tb(),c.Tb()),2&t&&(c.Cb(9),c.Ec(" ",null==e.profile?null:e.profile.firstname," ",null==e.profile?null:e.profile.lastname," "),c.Cb(6),c.mc("routerLink",c.oc(4,u)),c.Cb(4),c.mc("routerLink",c.oc(5,m)))},directives:[b.d,b.b,l.c],styles:[".sidenav-logo[_ngcontent-%COMP%]{text-align:center;padding-top:50px}.sidenav-user[_ngcontent-%COMP%]{text-align:center;padding:10%}.sidenav-user-img[_ngcontent-%COMP%]{width:100px;margin-bottom:12px;border-radius:20%}.sidenav-user-detail-name[_ngcontent-%COMP%]{font-weight:600;font-size:18px}.sidenav-menu-list[_ngcontent-%COMP%]{padding-left:20px}.sidenav-menu-list-link[_ngcontent-%COMP%]{font-family:monospace;font-size:15px;font-weight:500}"]}),n),f=a("/t3+"),g=a("bTqV"),h=a("NFeN"),v=a("TU8p"),C=a("STbY"),U=a("Wp6s"),T=function(){return["/"]},w=((r=function(){function t(e,a){_classCallCheck(this,t),this.authService=e,this.router=a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.authService.getMe().subscribe((function(e){t.userProfile=e.data}),(function(e){console.log(e.error),t.userProfile={firstname:"",lastname:"",picture:"url"}}))}},{key:"onLogout",value:function(){this.authService.logout(),this.router.navigate(["/login"])}}]),t}()).\u0275fac=function(t){return new(t||r)(c.Ob(s.a),c.Ob(l.b))},r.\u0275cmp=c.Ib({type:r,selectors:[["app-dashboard"]],decls:35,vars:4,consts:[[1,"dashboard-container"],["mode","side","opened","","role","navigation",1,"dashboard-drawer"],["drawer",""],[3,"profile"],[1,"navbar"],["mat-icon-button","","aria-label","Example icon-button with menu icon",1,"navbar-link"],[3,"click"],["mat-list-item","",1,"menu-tab-list",3,"routerLink"],[1,"navbar-spacer"],["mat-icon-button","","aria-label","emails","matBadge","0","matBadgePosition","before",1,"navbar-link","mail_outline"],["mat-icon-button","","aria-label","orders notifications","matBadge","0","matBadgePosition","before","matBadgeColor","warn",1,"navbar-link","notifications_none"],["mat-icon-button","","aria-label","Account activity",1,"navbar-link",3,"matMenuTriggerFor"],["mat-card-avatar","",1,"navbar-user-image"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item",""],[1,"app-container"]],template:function(t,e){if(1&t){var a=c.Vb();c.Ub(0,"body"),c.Ub(1,"mat-drawer-container",0),c.Ub(2,"mat-drawer",1,2),c.Ub(4,"mat-nav-list"),c.Pb(5,"app-sidenav",3),c.Tb(),c.Tb(),c.Ub(6,"mat-drawer-content"),c.Ub(7,"div"),c.Ub(8,"mat-toolbar",4),c.Ub(9,"button",5),c.Ub(10,"mat-icon",6),c.cc("click",(function(){return c.uc(a),c.rc(3).toggle()})),c.Bc(11,"menu"),c.Tb(),c.Tb(),c.Ub(12,"span"),c.Ub(13,"a",7),c.Bc(14," Farmer Market "),c.Tb(),c.Tb(),c.Pb(15,"span",8),c.Ub(16,"button",9),c.Ub(17,"mat-icon"),c.Bc(18,"mail_outline"),c.Tb(),c.Tb(),c.Ub(19,"button",10),c.Ub(20,"mat-icon"),c.Bc(21,"notifications_none"),c.Tb(),c.Tb(),c.Ub(22,"button",11),c.Pb(23,"mat-icon",12),c.Tb(),c.Ub(24,"mat-menu",null,13),c.Ub(26,"button",14),c.cc("click",(function(){return e.onLogout()})),c.Bc(27,"Logout"),c.Tb(),c.Ub(28,"button",15),c.Bc(29,'""'),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Pb(30,"router-outlet"),c.Tb(),c.Tb(),c.Ub(31,"div",16),c.Ub(32,"div"),c.Ub(33,"p"),c.Bc(34," To get all the features Please Open this website through desktop browser "),c.Tb(),c.Tb(),c.Tb(),c.Tb()}if(2&t){var n=c.rc(25);c.Cb(5),c.mc("profile",e.userProfile),c.Cb(8),c.mc("routerLink",c.oc(3,T)),c.Cb(9),c.mc("matMenuTriggerFor",n)}},directives:[d.b,d.a,b.d,p,d.c,f.a,g.b,h.a,b.b,l.c,v.a,C.c,U.b,C.d,C.a,l.e],styles:[".dashboard-container[_ngcontent-%COMP%]{background-color:#f6f6f6;font-size:14px;font-weight:400;font-family:monospace;color:#6c757d;min-height:100vh}@media (max-width:1024px){.dashboard-drawer[_ngcontent-%COMP%]{min-width:25vw!important;width:25vw;flex:1}}.dashboard-drawer[_ngcontent-%COMP%]{min-width:15vw;width:15vw;flex:1}.navbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.navbar[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 4px 25px 0 rgba(0,0,0,.1);margin:30px;width:auto;height:70px;border-radius:5px}.navbar-user-image[_ngcontent-%COMP%]{background-image:url(defaultprofile.2a273704e604909b97b9.png);background-size:cover;box-shadow:4px 3px 6px 0 rgba(0,0,0,.2)}.navbar-link[_ngcontent-%COMP%]{padding:0 3rem 0 .5rem}.menu-tab-list[_ngcontent-%COMP%]{color:#000}.app-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{visibility:hidden}@media (max-width:800px){.app-container[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.5);z-index:2;cursor:pointer}.app-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{text-align:center;max-width:90vw;min-height:100vh;display:flex;justify-content:center;align-items:center}.app-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;padding:1rem;visibility:visible}}"]}),r),_=a("lJxs"),P=a("0MNC"),y=a("zkoq"),O=a("bv9b"),k=a("+0xr"),x=a("0IaG"),B=a("3Pt+"),D=a("SxV6"),M=a("JIr8"),S=a("z6cu"),A=a("tk/3"),I=((o=function(){function t(e){_classCallCheck(this,t),this.http=e,this.farmerUrl="https://farmer-market.herokuapp.com/api/v1/farmermarket/farmers"}return _createClass(t,[{key:"getProducts",value:function(){return this.http.get(this.farmerUrl+"/products").pipe(Object(_.a)((function(t){return t})),Object(M.a)((function(t){return Object(S.a)(t)})))}},{key:"addProduct",value:function(t){return this.http.post(this.farmerUrl+"/products",t)}},{key:"getOrders",value:function(){return this.http.get(this.farmerUrl+"/orders").pipe(Object(_.a)((function(t){return t})),Object(M.a)((function(t){return Object(S.a)(t)})))}},{key:"updateOrders",value:function(t,e){return this.http.patch("".concat(this.farmerUrl,"/orders/").concat(t),{status:e}).pipe(Object(_.a)((function(t){return t})),Object(M.a)((function(t){return Object(S.a)(t)})))}}]),t}()).\u0275fac=function(t){return new(t||o)(c.Yb(A.b))},o.\u0275prov=c.Kb({token:o,factory:o.\u0275fac,providedIn:"root"}),o),q=a("kmnG"),F=a("d3UM"),z=a("FKr1");function R(t,e){if(1&t&&(c.Ub(0,"mat-list",3),c.Ub(1,"mat-list-item",4),c.Bc(2),c.Ub(3,"span",13),c.Ub(4,"strong"),c.Bc(5),c.Tb(),c.Tb(),c.Tb(),c.Tb()),2&t){var a=e.$implicit;c.Cb(2),c.Dc("",a.name," "),c.Cb(3),c.Dc(" (",a.quantity,")")}}function j(t,e){if(1&t&&(c.Ub(0,"mat-option",14),c.Bc(1),c.Tb()),2&t){var a=e.$implicit;c.mc("value",a.value),c.Cb(1),c.Dc(" ",a.viewValue," ")}}function L(t,e){1&t&&(c.Ub(0,"mat-error"),c.Bc(1,"Please choose a status"),c.Tb())}var E,N=((E=function(){function t(e,a){_classCallCheck(this,t),this.data=e,this.farmerService=a,this.orderStatus=[{value:"ready",viewValue:"Ready"},{value:"complete",viewValue:"Completed"}],this.statusUpdateControl=new B.d("",B.r.required)}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"updateOrderStatus",value:function(){this.farmerService.updateOrders(this.data._id,this.statusUpdateControl.value).pipe(Object(D.a)()).subscribe((function(t){console.log(t)}),(function(t){console.log(t.error)}))}}]),t}()).\u0275fac=function(t){return new(t||E)(c.Ob(x.a),c.Ob(I))},E.\u0275cmp=c.Ib({type:E,selectors:[["app-detail"]],decls:38,vars:11,consts:[[1,"orderDetailContainer",2,"width","25vw"],["mat-dialog-title",""],["role","list",4,"ngFor","ngForOf"],["role","list"],["role","listitem"],[2,"padding-left","40px"],["appearance","fill",2,"width","75%"],["required","",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["align","end"],["mat-button","",3,"mat-dialog-close"],["mat-button","",3,"mat-dialog-close","disabled","click"],[2,"padding-right","40px"],[3,"value"]],template:function(t,e){1&t&&(c.Ub(0,"div",0),c.Ub(1,"h1",1),c.Bc(2,"Update Order Status"),c.Tb(),c.Ub(3,"h3",1),c.Bc(4),c.Tb(),c.Ub(5,"mat-dialog-content"),c.Ac(6,R,6,2,"mat-list",2),c.Pb(7,"hr"),c.Ub(8,"mat-list",3),c.Ub(9,"mat-list-item",4),c.Bc(10,"total quantity "),c.Ub(11,"span",5),c.Ub(12,"strong"),c.Bc(13),c.Tb(),c.Tb(),c.Tb(),c.Ub(14,"mat-list-item",4),c.Bc(15,"total price "),c.Ub(16,"span",5),c.Ub(17,"strong"),c.Bc(18),c.Tb(),c.Tb(),c.Tb(),c.Ub(19,"mat-list-item",4),c.Bc(20,"order status "),c.Ub(21,"span",5),c.Ub(22,"strong"),c.Bc(23),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Pb(24,"hr"),c.Ub(25,"h4"),c.Bc(26,"Update order status"),c.Tb(),c.Ub(27,"mat-form-field",6),c.Ub(28,"mat-label"),c.Bc(29,"Order status"),c.Tb(),c.Ub(30,"mat-select",7),c.Ac(31,j,2,2,"mat-option",8),c.Tb(),c.Ac(32,L,2,0,"mat-error",9),c.Tb(),c.Tb(),c.Ub(33,"mat-dialog-actions",10),c.Ub(34,"button",11),c.Bc(35,"Cancel"),c.Tb(),c.Ub(36,"button",12),c.cc("click",(function(){return e.updateOrderStatus()})),c.Bc(37," Update "),c.Tb(),c.Tb(),c.Tb()),2&t&&(c.Cb(4),c.Dc("order no # ",e.data._id,""),c.Cb(2),c.mc("ngForOf",e.data.products.items),c.Cb(7),c.Cc(e.data.products.quantity),c.Cb(5),c.Cc(e.data.products.totalprice),c.Cb(5),c.Cc(e.data.status),c.Cb(7),c.mc("formControl",e.statusUpdateControl),c.Cb(1),c.mc("ngForOf",e.orderStatus),c.Cb(1),c.mc("ngIf",e.statusUpdateControl.hasError("required")),c.Cb(2),c.mc("mat-dialog-close","close"),c.Cb(2),c.mc("mat-dialog-close",e.statusUpdateControl.value)("disabled",!e.statusUpdateControl.valid))},directives:[x.g,x.e,i.k,b.a,b.b,q.c,q.g,F.a,B.q,B.l,B.e,i.l,x.c,g.b,x.d,z.j,q.b],styles:[""]}),E),H=a("M9IT"),$=a("qFsG"),V=a("Dh3D");function Q(t,e){1&t&&(c.Ub(0,"th",19),c.Bc(1," Order No. "),c.Tb())}function G(t,e){if(1&t&&(c.Ub(0,"td",20),c.Bc(1),c.Tb()),2&t){var a=e.$implicit;c.Cb(1),c.Cc(a._id)}}function J(t,e){1&t&&(c.Ub(0,"th",21),c.Bc(1," Status "),c.Tb())}function W(t,e){if(1&t&&(c.Ub(0,"td",20),c.Bc(1),c.Tb()),2&t){var a=e.$implicit;c.Cb(1),c.Cc(a.status)}}function K(t,e){1&t&&(c.Ub(0,"th",22),c.Bc(1," Quantity "),c.Tb())}function X(t,e){if(1&t&&(c.Ub(0,"td",20),c.Bc(1),c.Tb()),2&t){var a=e.$implicit;c.Cb(1),c.Dc(" ",a.products.quantity," ")}}function Y(t,e){1&t&&(c.Ub(0,"th",23),c.Bc(1," Totalprice "),c.Tb())}function Z(t,e){if(1&t&&(c.Ub(0,"td",20),c.Bc(1),c.Tb()),2&t){var a=e.$implicit;c.Cb(1),c.Dc(" ",a.products.totalprice," ")}}function tt(t,e){1&t&&(c.Ub(0,"th",24),c.Bc(1," Details "),c.Tb())}function et(t,e){if(1&t){var a=c.Vb();c.Ub(0,"td",20),c.Ub(1,"button",25),c.cc("click",(function(){c.uc(a);var t=e.$implicit;return c.gc().openOrderDetailDialog(t)})),c.Bc(2," Detail "),c.Tb(),c.Tb()}}function at(t,e){1&t&&c.Pb(0,"tr",26)}function nt(t,e){1&t&&c.Pb(0,"tr",27)}var rt,ot=((rt=function(){function t(e,a){_classCallCheck(this,t),this.dialog=e,this.farmerService=a,this.displayedColumns=["order_number","status","quantity","totalprice","detailaction"],this.dataSource=[],this.sortedData=new k.k(this.dataSource)}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.farmerService.getOrders().pipe(Object(D.a)()).subscribe((function(e){console.log(e),t.dataSource=e.data,t.sortedData=new k.k(t.dataSource),t.sortedData.paginator=t.paginator}),(function(t){console.log(t.error)}))}},{key:"sortData",value:function(t){var e=this.dataSource.slice();if(t.active&&""!==t.direction){var a=e.sort((function(e,a){var n="asc"===t.direction;switch(t.active){case"order_number":return it(e._id,a._id,n);case"totalprice":return it(e.products.totalprice,a.products.totalprice,n);case"quantity":return it(e.products.quantity,a.products.quantity,n);case"status":return it(e.status,a.status,n);default:return 0}}));this.sortedData=new k.k(a),this.sortedData.paginator=this.paginator}else this.sortedData=new k.k(e)}},{key:"openOrderDetailDialog",value:function(t){var e=this;this.dialog.open(N,{data:t}).afterClosed().subscribe((function(a){console.log(a),"close"!=a&&(e.dataSource=e.dataSource.map((function(e){return e._id==t._id?Object.assign(Object.assign({},e),{status:a}):e})),e.sortedData=new k.k(e.dataSource),e.sortedData.paginator&&e.sortedData.paginator.firstPage())}))}},{key:"applyFilter",value:function(t){var e=t.target.value,a=this.dataSource.filter((function(t){return t.status.toLowerCase().includes(e.toLowerCase())}));this.sortedData=new k.k(a),this.sortedData.paginator=this.paginator}}]),t}()).\u0275fac=function(t){return new(t||rt)(c.Ob(x.b),c.Ob(I))},rt.\u0275cmp=c.Ib({type:rt,selectors:[["orders-table"]],viewQuery:function(t,e){var a;1&t&&c.yc(H.a,!0),2&t&&c.qc(a=c.dc())&&(e.paginator=a.first)},decls:25,vars:5,consts:[[1,"order-table-container"],[1,"filter-form"],["matInput","","placeholder","Ex. Abebe Bikila",3,"keyup"],["input",""],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","order_number"],["mat-header-cell","","mat-sort-header","order_number",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","status"],["mat-header-cell","","mat-sort-header","status",4,"matHeaderCellDef"],["matColumnDef","quantity"],["mat-header-cell","","mat-sort-header","quantity",4,"matHeaderCellDef"],["matColumnDef","totalprice"],["mat-header-cell","","mat-sort-header","totalprice",4,"matHeaderCellDef"],["matColumnDef","detailaction"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"length","pageSize"],["mat-header-cell","","mat-sort-header","order_number"],["mat-cell",""],["mat-header-cell","","mat-sort-header","status"],["mat-header-cell","","mat-sort-header","quantity"],["mat-header-cell","","mat-sort-header","totalprice"],["mat-header-cell",""],["mat-stroked-button","","color","primary",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(c.Ub(0,"div",0),c.Ub(1,"mat-form-field",1),c.Ub(2,"mat-label"),c.Bc(3,"Filter"),c.Tb(),c.Ub(4,"input",2,3),c.cc("keyup",(function(t){return e.applyFilter(t)})),c.Tb(),c.Tb(),c.Ub(6,"table",4),c.cc("matSortChange",(function(t){return e.sortData(t)})),c.Sb(7,5),c.Ac(8,Q,2,0,"th",6),c.Ac(9,G,2,1,"td",7),c.Rb(),c.Sb(10,8),c.Ac(11,J,2,0,"th",9),c.Ac(12,W,2,1,"td",7),c.Rb(),c.Sb(13,10),c.Ac(14,K,2,0,"th",11),c.Ac(15,X,2,1,"td",7),c.Rb(),c.Sb(16,12),c.Ac(17,Y,2,0,"th",13),c.Ac(18,Z,2,1,"td",7),c.Rb(),c.Sb(19,14),c.Ac(20,tt,2,0,"th",15),c.Ac(21,et,3,0,"td",7),c.Rb(),c.Ac(22,at,1,0,"tr",16),c.Ac(23,nt,1,0,"tr",17),c.Tb(),c.Pb(24,"mat-paginator",18),c.Tb()),2&t&&(c.Cb(6),c.mc("dataSource",e.sortedData),c.Cb(16),c.mc("matHeaderRowDef",e.displayedColumns),c.Cb(1),c.mc("matRowDefColumns",e.displayedColumns),c.Cb(1),c.mc("length",20)("pageSize",5))},directives:[q.c,q.g,$.a,k.j,V.a,k.c,k.e,k.b,k.g,k.i,H.a,k.d,V.b,k.a,g.b,k.f,k.h],styles:["table[_ngcontent-%COMP%]{width:100%}.mat-elevation-z8[_ngcontent-%COMP%]{box-shadow:none}th.mat-sort-header-sorted[_ngcontent-%COMP%]{color:#000}.order-table-container[_ngcontent-%COMP%]{position:relative;max-height:425px;overflow:auto}.filter-form[_ngcontent-%COMP%]{float:right;text-align:right;font-size:14px;color:#000}"]}),rt);function it(t,e,a){return(t<e?-1:1)*(a?1:-1)}function ct(t,e){1&t&&(c.Ub(0,"mat-error"),c.Bc(1," Name is "),c.Ub(2,"strong"),c.Bc(3,"required"),c.Tb(),c.Tb())}function st(t,e){1&t&&(c.Ub(0,"mat-hint"),c.Bc(1," Add Product Photo "),c.Tb())}function lt(t,e){if(1&t&&(c.Ub(0,"mat-hint"),c.Bc(1),c.Tb()),2&t){c.gc();var a=c.rc(35);c.Cb(1),c.Cc(a.files[0].name)}}function dt(t,e){1&t&&(c.Ub(0,"mat-error"),c.Bc(1," Please enter a valid Photo "),c.Tb())}var bt,ut=((bt=function(){function t(e,a){_classCallCheck(this,t),this.fb=e,this.farmerService=a,this.addProductForm=e.group({name:["",B.r.required],price:["",B.r.required],quantity:["",B.r.required],photo:["",[B.r.required,this.validFileExtensions]],description:["",B.r.required]})}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"onAddProduct",value:function(t){var e=new FormData;e.append("image",t.files[0],t.files[0].name),e.append("name",this.addProductForm.value.name),e.append("price",this.addProductForm.value.price),e.append("quantity",this.addProductForm.value.quantity),e.append("description",this.addProductForm.value.description),this.farmerService.addProduct(e).subscribe((function(t){console.log(t)}),(function(t){console.log(t)}))}},{key:"validFileExtensions",value:function(t){return t.value.endsWith(".jpeg")||t.value.endsWith(".jpg")||t.value.endsWith(".png")?null:{invalid:!0}}},{key:"photo",get:function(){return this.addProductForm.get("photo")}},{key:"name",get:function(){return this.addProductForm.get("name")}}]),t}()).\u0275fac=function(t){return new(t||bt)(c.Ob(B.c),c.Ob(I))},bt.\u0275cmp=c.Ib({type:bt,selectors:[["app-add-product-dialog"]],decls:54,vars:8,consts:[[1,"add-product-dialog-container"],["mat-dialog-title",""],[1,"mat-typography"],[3,"formGroup"],["appearance","outline",1,"product-form-full-width"],["type","text","matInput","","placeholder","Ex. Avocado...","formControlName","name"],[4,"ngIf"],["type","number","matInput","","placeholder","Ex. $12","formControlName","price"],["matPrefix",""],["matSuffix",""],["type","number","matInput","","placeholder","Ex. 20","formControlName","quantity"],[1,"product-form-full-width"],["type","file","accept","image/*","formControlName","photo",3,"hidden"],["files",""],["mat-button","",1,"btn-addphoto",3,"click"],["matInput","","placeholder","Ex. It is...","formControlName","description"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-button","","color","primary",3,"mat-dialog-close","disabled","click"]],template:function(t,e){if(1&t){var a=c.Vb();c.Ub(0,"div",0),c.Ub(1,"h2",1),c.Bc(2,"Add Product"),c.Tb(),c.Ub(3,"mat-dialog-content",2),c.Ub(4,"form",3),c.Ub(5,"p"),c.Ub(6,"mat-form-field",4),c.Ub(7,"mat-label"),c.Bc(8,"Name"),c.Tb(),c.Pb(9,"input",5),c.Ub(10,"mat-hint"),c.Bc(11,"Add Product name"),c.Tb(),c.Ac(12,ct,4,0,"mat-error",6),c.Tb(),c.Tb(),c.Ub(13,"p"),c.Ub(14,"mat-form-field",4),c.Ub(15,"mat-label"),c.Bc(16,"Price"),c.Tb(),c.Pb(17,"input",7),c.Ub(18,"span",8),c.Bc(19,"$\xa0"),c.Tb(),c.Ub(20,"span",9),c.Bc(21,".00"),c.Tb(),c.Ub(22,"mat-hint"),c.Bc(23,"Add Product price"),c.Tb(),c.Tb(),c.Tb(),c.Ub(24,"p"),c.Ub(25,"mat-form-field",4),c.Ub(26,"mat-label"),c.Bc(27,"Quantity"),c.Tb(),c.Pb(28,"input",10),c.Ub(29,"mat-hint"),c.Bc(30,"Add Product quantity"),c.Tb(),c.Tb(),c.Tb(),c.Ub(31,"div",11),c.Ub(32,"mat-label"),c.Bc(33,"Photo "),c.Tb(),c.Pb(34,"input",12,13),c.Ac(36,st,2,0,"mat-hint",6),c.Ac(37,lt,2,1,"mat-hint",6),c.Ub(38,"button",14),c.cc("click",(function(){return c.uc(a),c.rc(35).click()})),c.Ub(39,"mat-icon"),c.Bc(40,"add_a_photo"),c.Tb(),c.Tb(),c.Ac(41,dt,2,0,"mat-error",6),c.Tb(),c.Ub(42,"p"),c.Ub(43,"mat-form-field",4),c.Ub(44,"mat-label"),c.Bc(45,"Description"),c.Tb(),c.Pb(46,"textarea",15),c.Ub(47,"mat-hint"),c.Bc(48,"Add Product description"),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Ub(49,"mat-dialog-actions",16),c.Ub(50,"button",17),c.Bc(51,"Cancel"),c.Tb(),c.Ub(52,"button",18),c.cc("click",(function(){c.uc(a);var t=c.rc(35);return e.onAddProduct(t)})),c.Bc(53," Add Product "),c.Tb(),c.Tb(),c.Tb()}if(2&t){var n=c.rc(35);c.Cb(4),c.mc("formGroup",e.addProductForm),c.Cb(8),c.mc("ngIf",e.name.hasError("required")),c.Cb(22),c.mc("hidden",!0),c.Cb(2),c.mc("ngIf",!n.files[0]),c.Cb(1),c.mc("ngIf",n.files[0]),c.Cb(4),c.mc("ngIf",e.photo.hasError("invalid")&&!e.photo.hasError("required")),c.Cb(11),c.mc("mat-dialog-close",!0)("disabled",!e.addProductForm.valid)}},directives:[x.g,x.e,B.s,B.m,B.g,q.c,q.g,$.a,B.b,B.l,B.f,q.f,i.l,B.o,q.h,q.i,g.b,h.a,x.c,x.d,q.b],styles:[".product-form-full-width[_ngcontent-%COMP%]{width:100%}.add-product-dialog-container[_ngcontent-%COMP%]{min-width:35vw!important;border-radius:20px!important}.mat-dialog-container[_ngcontent-%COMP%]{border-radius:20px}.btn-addphoto[_ngcontent-%COMP%]{margin-left:450px}"]}),bt),mt=a("jhN1"),pt=a("Qu3c");function ft(t,e){1&t&&(c.Ub(0,"th",19),c.Bc(1," photo "),c.Tb())}function gt(t,e){if(1&t&&(c.Ub(0,"td",20),c.Pb(1,"img",21),c.Tb()),2&t){var a=e.$implicit,n=c.gc();c.Cb(1),c.mc("src",n.imageDomeSantizer(a.photo),c.vc)}}function ht(t,e){1&t&&(c.Ub(0,"th",22),c.Bc(1,"Name"),c.Tb())}function vt(t,e){if(1&t&&(c.Ub(0,"td",20),c.Bc(1),c.Tb()),2&t){var a=e.$implicit;c.Cb(1),c.Cc(a.name)}}function Ct(t,e){1&t&&(c.Ub(0,"th",23),c.Bc(1,"Price"),c.Tb())}function Ut(t,e){if(1&t&&(c.Ub(0,"td",20),c.Bc(1),c.Tb()),2&t){var a=e.$implicit;c.Cb(1),c.Cc(a.price)}}function Tt(t,e){1&t&&(c.Ub(0,"th",24),c.Bc(1," Quantity "),c.Tb())}function wt(t,e){if(1&t&&(c.Ub(0,"td",20),c.Bc(1),c.Tb()),2&t){var a=e.$implicit;c.Cb(1),c.Cc(a.quantity)}}function _t(t,e){if(1&t){var a=c.Vb();c.Ub(0,"th",25),c.Ub(1,"button",26),c.cc("click",(function(){return c.uc(a),c.gc().addProductDialog()})),c.Ub(2,"mat-icon"),c.Bc(3,"add"),c.Tb(),c.Tb(),c.Tb()}}function Pt(t,e){1&t&&c.Pb(0,"td",20)}function yt(t,e){1&t&&c.Pb(0,"tr",27)}function Ot(t,e){1&t&&c.Pb(0,"tr",28)}var kt,xt=function(){return[5,8]},Bt=((kt=function(){function t(e,a,n){_classCallCheck(this,t),this.dialog=e,this.farmerService=a,this.sanitizer=n,this.displayedColumns=["photo","name","price","quantity","addproduct"]}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.farmerService.getProducts().subscribe((function(e){t.dataSource=e.data,t.sortedData=new k.k(t.dataSource),t.sortedData.paginator=t.paginator}),(function(t){console.log(t)}))}},{key:"addProductDialog",value:function(){this.dialog.open(ut).afterClosed().subscribe((function(t){console.log("Dialog result: "+t)}))}},{key:"sortData",value:function(t){var e=this.dataSource.slice();if(t.active&&""!==t.direction){var a=e.sort((function(e,a){var n="asc"===t.direction;switch(t.active){case"name":return Dt(e.name,a.name,n);case"price":return Dt(e.price,a.price,n);case"quantity":return Dt(e.quantity,a.quantity,n);default:return 0}}));this.sortedData=new k.k(a),this.sortedData.paginator=this.paginator}else this.sortedData=new k.k(e)}},{key:"applyFilter",value:function(t){var e=t.target.value,a=this.dataSource.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}));this.sortedData=new k.k(a),this.sortedData.paginator=this.paginator}},{key:"imageDomeSantizer",value:function(t){return this.sanitizer.bypassSecurityTrustUrl("data:image/*;base64,"+t)}}]),t}()).\u0275fac=function(t){return new(t||kt)(c.Ob(x.b),c.Ob(I),c.Ob(mt.b))},kt.\u0275cmp=c.Ib({type:kt,selectors:[["app-products-table"]],viewQuery:function(t,e){var a;1&t&&c.yc(H.a,!0),2&t&&c.qc(a=c.dc())&&(e.paginator=a.first)},decls:25,vars:5,consts:[[1,"productlist-table-container"],[1,"filter-form"],["matInput","","placeholder","Ex. Abebe Bikila",3,"keyup"],["input",""],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","photo"],["mat-header-cell","","mat-sort-header","position",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","name",4,"matHeaderCellDef"],["matColumnDef","price"],["mat-header-cell","","mat-sort-header","price",4,"matHeaderCellDef"],["matColumnDef","quantity"],["mat-header-cell","","mat-sort-header","quantity",4,"matHeaderCellDef"],["matColumnDef","addproduct"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header","position"],["mat-cell",""],["alt","image","width","40","height","50",1,"product-img",3,"src"],["mat-header-cell","","mat-sort-header","name"],["mat-header-cell","","mat-sort-header","price"],["mat-header-cell","","mat-sort-header","quantity"],["mat-header-cell",""],["mat-mini-fab","","color","primary","matTooltip","Add Product",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(c.Ub(0,"div",0),c.Ub(1,"mat-form-field",1),c.Ub(2,"mat-label"),c.Bc(3,"Filter"),c.Tb(),c.Ub(4,"input",2,3),c.cc("keyup",(function(t){return e.applyFilter(t)})),c.Tb(),c.Tb(),c.Ub(6,"table",4),c.cc("matSortChange",(function(t){return e.sortData(t)})),c.Sb(7,5),c.Ac(8,ft,2,0,"th",6),c.Ac(9,gt,2,1,"td",7),c.Rb(),c.Sb(10,8),c.Ac(11,ht,2,0,"th",9),c.Ac(12,vt,2,1,"td",7),c.Rb(),c.Sb(13,10),c.Ac(14,Ct,2,0,"th",11),c.Ac(15,Ut,2,1,"td",7),c.Rb(),c.Sb(16,12),c.Ac(17,Tt,2,0,"th",13),c.Ac(18,wt,2,1,"td",7),c.Rb(),c.Sb(19,14),c.Ac(20,_t,4,0,"th",15),c.Ac(21,Pt,1,0,"td",7),c.Rb(),c.Ac(22,yt,1,0,"tr",16),c.Ac(23,Ot,1,0,"tr",17),c.Tb(),c.Pb(24,"mat-paginator",18),c.Tb()),2&t&&(c.Cb(6),c.mc("dataSource",e.sortedData),c.Cb(16),c.mc("matHeaderRowDef",e.displayedColumns),c.Cb(1),c.mc("matRowDefColumns",e.displayedColumns),c.Cb(1),c.mc("pageSizeOptions",c.oc(4,xt)))},directives:[q.c,q.g,$.a,k.j,V.a,k.c,k.e,k.b,k.g,k.i,H.a,k.d,V.b,k.a,g.b,pt.a,h.a,k.f,k.h],styles:["table[_ngcontent-%COMP%]{width:100%}.mat-elevation-z8[_ngcontent-%COMP%]{box-shadow:none}th.mat-sort-header-sorted[_ngcontent-%COMP%]{color:#000}.productlist-table-container[_ngcontent-%COMP%]{position:relative;max-height:425px;overflow:auto}.filter-form[_ngcontent-%COMP%]{float:right;text-align:right;font-size:14px;color:#000}.product-img[_ngcontent-%COMP%]{width:80px;border-radius:50%!important}"]}),kt);function Dt(t,e,a){return(t<e?-1:1)*(a?1:-1)}function Mt(t,e){1&t&&(c.Ub(0,"div"),c.Bc(1," 20 new orders "),c.Pb(2,"mat-progress-bar",8),c.Tb())}function St(t,e){1&t&&(c.Ub(0,"div"),c.Bc(1," $100 total earnings "),c.Pb(2,"mat-progress-bar",9),c.Tb())}function At(t,e){1&t&&(c.Ub(0,"div"),c.Bc(1,"200 orders so far"),c.Tb())}function It(t,e){1&t&&(c.Ub(0,"div"),c.Bc(1," 2 Returns "),c.Pb(2,"mat-progress-bar",10),c.Tb())}function qt(t,e){1&t&&(c.Ub(0,"div"),c.Pb(1,"orders-table"),c.Tb())}function Ft(t,e){1&t&&(c.Ub(0,"div"),c.Pb(1,"app-products-table"),c.Tb())}var zt=function(t){return["dashboard-card",t]};function Rt(t,e){if(1&t&&(c.Ub(0,"mat-grid-tile",3),c.Ub(1,"mat-card",4),c.Ub(2,"mat-card-header"),c.Ub(3,"mat-card-title"),c.Bc(4),c.Tb(),c.Tb(),c.Ub(5,"mat-card-content",5),c.Ub(6,"mat-icon",6),c.Bc(7),c.Tb(),c.Ac(8,Mt,3,0,"div",7),c.Ac(9,St,3,0,"div",7),c.Ac(10,At,2,0,"div",7),c.Ac(11,It,3,0,"div",7),c.Ac(12,qt,2,0,"div",7),c.Ac(13,Ft,2,0,"div",7),c.Tb(),c.Tb(),c.Tb()),2&t){var a=e.$implicit;c.mc("colspan",a.cols)("rowspan",a.rows),c.Cb(1),c.mc("ngClass",c.pc(11,zt,a.classname)),c.Cb(3),c.Dc(" ",a.title," "),c.Cb(3),c.Cc(a.bg_icon_name),c.Cb(1),c.mc("ngIf","New Orders"==a.title),c.Cb(1),c.mc("ngIf","Earnings"==a.title),c.Cb(1),c.mc("ngIf","Orders"==a.title),c.Cb(1),c.mc("ngIf","Returns"==a.title),c.Cb(1),c.mc("ngIf","Orders List"==a.title),c.Cb(1),c.mc("ngIf","Product Inventory"==a.title)}}var jt,Lt,Et,Nt,Ht=((jt=function(){function t(e){_classCallCheck(this,t),this.breakpointObserver=e,this.cards=this.breakpointObserver.observe(P.b.Handset).pipe(Object(_.a)((function(t){return t.matches?[{title:"New Orders",classname:"new-orders",bg_icon_name:"local_shipping",cols:4,rows:1},{title:"Earnings",classname:"total-earnings",bg_icon_name:"monetization_on",cols:4,rows:1},{title:"Orders",classname:"total-orders",bg_icon_name:"account_balance",cols:4,rows:1},{title:"Returns",classname:"returns",bg_icon_name:"backspace",cols:4,rows:1},{title:"Orders List",classname:"",bg_icon_name:"local_shipping",cols:4,rows:3},{title:"Profile",classname:"",bg_icon_name:"account_circle",cols:4,rows:1},{title:"Product Inventory",classname:"",bg_icon_name:"add_shopping_cart",cols:4,rows:3}]:[{title:"New Orders",classname:"new-orders",bg_icon_name:"local_shipping",cols:1,rows:1},{title:"Earnings",classname:"total-earnings",bg_icon_name:"monetization_on",cols:1,rows:1},{title:"Orders",classname:"total-orders",bg_icon_name:"account_balance",cols:1,rows:1},{title:"Returns",classname:"returns",bg_icon_name:"backspace",cols:1,rows:1},{title:"Orders List",classname:"",bg_icon_name:"local_shipping",cols:3,rows:3},{title:"Profile",classname:"",bg_icon_name:"account_circle",cols:1,rows:3},{title:"Product Inventory",classname:"",bg_icon_name:"add_shopping_cart",cols:4,rows:3}]})))}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||jt)(c.Ob(P.a))},jt.\u0275cmp=c.Ib({type:jt,selectors:[["app-home-dashboard"]],decls:4,vars:3,consts:[[1,"grid-container"],["cols","4","rowHeight","175px"],[3,"colspan","rowspan",4,"ngFor","ngForOf"],[3,"colspan","rowspan"],[3,"ngClass"],[1,"dashboard-card-content"],[1,"new-orders-bg-img"],[4,"ngIf"],["mode","determinate","value","40"],["mode","determinate","value","70"],["mode","determinate","value","10","color","warn"]],template:function(t,e){1&t&&(c.Ub(0,"div",0),c.Ub(1,"mat-grid-list",1),c.Ac(2,Rt,14,13,"mat-grid-tile",2),c.hc(3,"async"),c.Tb(),c.Tb()),2&t&&(c.Cb(2),c.mc("ngForOf",c.ic(3,1,e.cards)))},directives:[y.a,i.k,y.c,U.a,i.j,U.d,U.f,U.c,h.a,i.l,O.a,ot,Bt],pipes:[i.b],styles:[".grid-container[_ngcontent-%COMP%]{margin:20px}.dashboard-card[_ngcontent-%COMP%]{position:absolute;top:15px;left:15px;right:15px;bottom:15px;box-shadow:-20px -5rem 2.1875rem rgba(90,97,105,.1),0 .9375rem 1.40625rem rgba(90,97,105,.1),0 .25rem .53125rem rgba(90,97,105,.12),0 .125rem .1875rem rgba(90,97,105,.1);border-radius:10px;border:none;overflow:hidden;font-family:monospace}mat-grid-tile[_ngcontent-%COMP%]{overflow:inherit}.more-button[_ngcontent-%COMP%]{position:absolute;top:5px;right:10px}.dashboard-card-content[_ngcontent-%COMP%]{text-align:center;color:#f5f5f5;font-size:20px;font-weight:500}.new-orders[_ngcontent-%COMP%]{background:#348f50;background:linear-gradient(0deg,#56b4d3,#348f50)}.total-earnings[_ngcontent-%COMP%]{background:#83a4d4;background:linear-gradient(90deg,#b6fbff,#83a4d4)}.total-orders[_ngcontent-%COMP%]{background:#d68e41;background:linear-gradient(90deg,#f48665,#d68e41)}.returns[_ngcontent-%COMP%]{background:#00d2ff;background:linear-gradient(90deg,#928dab,#00d2ff)}.new-orders-bg-img[_ngcontent-%COMP%]{opacity:.1;right:65px;font-size:110px;position:absolute;text-align:center;color:#000;top:20px;margin-left:15px;height:50px}.mat-card-title[_ngcontent-%COMP%]{font-size:28px}"]}),jt),$t=a("qJYa"),Vt=((Nt=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||Nt)},Nt.\u0275cmp=c.Ib({type:Nt,selectors:[["app-products-list"]],decls:2,vars:0,consts:[[1,"pro-list-container"]],template:function(t,e){1&t&&(c.Ub(0,"div",0),c.Pb(1,"app-products-table"),c.Tb())},directives:[Bt],styles:[".pro-list-container[_ngcontent-%COMP%]{margin:20px}"]}),Nt),Qt=((Et=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||Et)},Et.\u0275cmp=c.Ib({type:Et,selectors:[["app-order-list"]],decls:2,vars:0,consts:[[1,"order-list-container"]],template:function(t,e){1&t&&(c.Ub(0,"div",0),c.Pb(1,"orders-table"),c.Tb())},directives:[ot],styles:[".order-list-container[_ngcontent-%COMP%]{margin:20px}"]}),Et),Gt=((Lt=function t(){_classCallCheck(this,t)}).\u0275mod=c.Mb({type:Lt}),Lt.\u0275inj=c.Lb({factory:function(t){return new(t||Lt)},imports:[[i.c,l.d.forChild([{path:"",component:w,children:[{path:"",component:Ht},{path:"orders",component:Qt},{path:"products",component:Vt}]}]),$t.a,B.p,B.h]]}),Lt)}}]);